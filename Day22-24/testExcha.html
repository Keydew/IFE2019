<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>转换格式</title>
</head>

<body>
    <script>
    var scoreObject = {
        "Tony": {
            "Math": 95,
            "English": 79,
            "Music": 68
        },
        "Simon": {
            "Math": 100,
            "English": 95,
            "Music": 98
        },
        "Annie": {
            "Math": 54,
            "English": 65,
            "Music": 88
        }
    }
    var menuArr = [
        [1, "Area1", -1],
        [2, "Area2", -1],
        [3, "Area1-1", 1],
        [4, "Area1-2", 1],
        [5, "Area2-1", 2],
        [6, "Area2-2", 2],
        [7, "Area1-2-3", 4],
        [8, "Area2-2-1", 6],
    ];

    //对象转换为数组
    function ObjToArr() {
        let arr = new Array();
        for (let obj in scoreObject) {
            let ar = new Array();
            ar.push(obj);
            for (let sub in scoreObject[obj]) {
                ar.push(scoreObject[obj][sub]);
            }
            arr.push(ar);
        }
        return arr;
    }

    //数组转换为对象
    var menu = menuArr;

    function ArrToObj() {
        //类似广度搜索
        //时间复杂度过大
        let obj = {};
        return AddObj(obj, -1, 0);

    }

    //根据父结点ID寻找添加子结点
    //indexparid:父结点ID
    //start:数组查询开始位置
    function AddObj(obj, parid, start) {
        let i = start;
        while (i < menu.length) {
            if (menu[i][2] == parid) {
                if (!obj) {
                    obj = {};
                }
                obj[menu[i][0]] = {};
                obj[menu[i][0]].name = menu[i][1];
                if (AddObj(obj[menu[i][0]].subMenu, menu[i][0], i + 1)) {
                    obj[menu[i][0]].subMenu = AddObj(obj[menu[i][0]].subMenu, menu[i][0], i + 1);
                }
            }
            i++;
        }
        return obj;
    }
    </script>
</body>

</html>